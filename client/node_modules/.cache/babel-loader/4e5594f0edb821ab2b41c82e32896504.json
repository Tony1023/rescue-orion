{"ast":null,"code":"var _jsxFileName = \"/Users/raz/Desktop/rescue-orion/client/src/room/modal/SpaceStationModal.tsx\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useSelector, useDispatch } from '../redux-hook-adapters';\nimport { BaseModalTextBackground, Modal, ModalBackground, DismissButton } from './modal';\nimport * as IDs from '../../metadata/agent-ids';\nimport { pickUpSupplyResource, pickUpRescueResource, dropOffRescueResource } from '../actions';\nimport Triangle from './TriangleButton';\nconst StationName = styled.div`\n  font-family: 'Grandstander', cursive;\n  text-align: center;\n  font-size: 40px;\n  margin-bottom: 20px;\n  text-transform: uppercase;\n`;\nconst TextInfo = styled.div`\n  font-family: 'Roboto' sans-serif;\n  text-align: center;\n  font-weight: 500;\n  font-size: 18px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  position: relative;\n  text-align: left;\n`;\nconst ModalWrapper = styled(BaseModalTextBackground)`\n  width: 1200px;\n  padding: 0;\n  text-align: center;\n`;\nconst Column = styled.div`\n  display: inline-block;\n  overflow: auto;\n  vertical-align: top;\n  position: relative;\n`;\nconst StyledModal = styled(Modal)`\n  position: relative;\n  height: 520px;\n`;\nconst StyledButton = styled(DismissButton)`\n  position: absolute;\n  left: 25px;\n  bottom: 20px;\n`;\nconst Header = styled.div`\n  font-weight: bold;\n  font-size: 22px;\n  text-align: center;\n  color: #b62021;\n  font-family: 'Grandstander', cursive;\n  text-transform: uppercase;\n`;\nconst Body = styled.div`\n  font-family: 'Roboto' sans-serif;\n  font-size: 16px;\n  font-weight: 500;\n`;\nconst SupplyGroup = styled.div`\n  position: relative;\n`;\nconst Resource = styled.div`\n  font-family: 'Roboto' sans-serif;\n  text-align: center;\n  font-weight: 500;\n  font-size: 20px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  position: relative;\n`;\nconst LeftPanelTriangle = styled(Triangle)`\n  position: absolute;\n  right: 5px;\n  top: 0;\n`;\nconst Divider = styled.div`\n  border-bottom: 1px solid grey;\n  margin: 10px 0;\n`;\n\nfunction StationPanel(props) {\n  const gameState = useSelector(state => state);\n  const station = gameState.spaceStations[props.id];\n  const gemini_1 = gameState.spaceships[IDs.GEMINI_1];\n  const gemini_2 = gameState.spaceships[IDs.GEMINI_2];\n  const dispatch = useDispatch();\n  const showResources = gemini_1.location === station.location || gemini_2.location === station.location;\n  let supplyReceiverId;\n  let resourceReceiverId;\n\n  if (gemini_1.location === station.location) {\n    supplyReceiverId = IDs.GEMINI_1;\n\n    if (!gemini_1.isInTimePortal) {\n      resourceReceiverId = IDs.GEMINI_1;\n    }\n  } else if (gemini_2.location === station.location) {\n    supplyReceiverId = IDs.GEMINI_2;\n\n    if (!gemini_2.isInTimePortal) {\n      resourceReceiverId = IDs.GEMINI_2;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StationName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  }, props.id), /*#__PURE__*/React.createElement(TextInfo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, props.message.title), /*#__PURE__*/React.createElement(Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, props.message.paragraphs.map((paragraph, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 20\n      }\n    }, paragraph.number, paragraph.text);\n  }))), showResources ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SupplyGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Resource, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, \"Energy Cells: \", station.energyCells), /*#__PURE__*/React.createElement(Resource, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, \"Life Support Packs: \", station.lifeSupportPacks), /*#__PURE__*/React.createElement(LeftPanelTriangle, {\n    style: {\n      top: '50%',\n      transform: 'translate(0, -50%)'\n    },\n    onClick: () => {\n      if (station.energyCells > 0) {\n        dispatch(pickUpSupplyResource({\n          from: props.id,\n          to: supplyReceiverId\n        }));\n      }\n    },\n    disabled: station.energyCells === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    style: {\n      width: '70%',\n      margin: '10px auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }), station.rescueResources.map((resource, i) => /*#__PURE__*/React.createElement(Resource, {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, resource, /*#__PURE__*/React.createElement(LeftPanelTriangle, {\n    onClick: () => {\n      if (resourceReceiverId && station.canPickUp[resource]) {\n        dispatch(pickUpRescueResource({\n          from: props.id,\n          to: resourceReceiverId,\n          type: resource\n        }));\n      }\n    },\n    disabled: !resourceReceiverId || !station.canPickUp[resource],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  })))) : /*#__PURE__*/React.createElement(React.Fragment, null));\n}\n\nconst SpaceshipName = styled.h1`\n  font-family: 'Grandstander', cursive;\n  text-align: center;\n  margin-bottom: 30px;\n`;\nconst RightPanelTriangle = styled(Triangle)`\n  position: absolute;\n  left: 5px;\n  top: 0;\n  transform: rotate(180deg);\n`;\nconst ResourceRightAlign = styled(Resource)`\n  text-align: right;\n  margin-top: 10px;\n`;\n\nfunction Gemini1Panel(props) {\n  const gemini_1 = useSelector(state => state.spaceships[IDs.GEMINI_1]);\n  const dispatch = useDispatch();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SpaceshipName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 5\n    }\n  }, \"Gemini 1\"), /*#__PURE__*/React.createElement(Resource, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 5\n    }\n  }, \"Energy Cells: \", gemini_1.energyCells), /*#__PURE__*/React.createElement(Resource, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }, \"Life Support Packs: \", gemini_1.lifeSupportPacks), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 5\n    }\n  }), gemini_1.rescueResources.map((resource, i) => /*#__PURE__*/React.createElement(ResourceRightAlign, {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }\n  }, resource, /*#__PURE__*/React.createElement(RightPanelTriangle, {\n    disabled: gemini_1.isInTimePortal,\n    onClick: () => {\n      if (!gemini_1.isInTimePortal) {\n        dispatch(dropOffRescueResource({\n          from: IDs.GEMINI_1,\n          to: props.id,\n          type: resource\n        }));\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }))));\n}\n\nfunction Gemini2Panel(props) {\n  const gemini_2 = useSelector(state => state.spaceships[IDs.GEMINI_2]);\n  const dispatch = useDispatch();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SpaceshipName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 5\n    }\n  }, \"Gemini 2\"), /*#__PURE__*/React.createElement(Resource, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 5\n    }\n  }, \"Energy Cells: \", gemini_2.energyCells), /*#__PURE__*/React.createElement(Resource, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 5\n    }\n  }, \"Life Support Packs: \", gemini_2.lifeSupportPacks), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 5\n    }\n  }), gemini_2.rescueResources.map((resource, i) => /*#__PURE__*/React.createElement(ResourceRightAlign, {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }\n  }, resource, /*#__PURE__*/React.createElement(RightPanelTriangle, {\n    disabled: gemini_2.isInTimePortal,\n    onClick: () => {\n      if (!gemini_2.isInTimePortal) {\n        dispatch(dropOffRescueResource({\n          from: IDs.GEMINI_2,\n          to: props.id,\n          type: resource\n        }));\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default (props => {\n  const gameState = useSelector(state => state);\n  const spaceStationLocation = gameState.spaceStations[props.id].location;\n  const gemini1AtStation = gameState.spaceships[IDs.GEMINI_1].location === spaceStationLocation;\n  const gemini2AtStation = gameState.spaceships[IDs.GEMINI_2].location === spaceStationLocation;\n  return /*#__PURE__*/React.createElement(ModalBackground, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(ModalWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      width: '40%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StationPanel, {\n    id: props.id,\n    message: props.message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(StyledButton, {\n    onClose: props.onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 11\n    }\n  }))), gemini1AtStation ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      width: '3%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    style: {\n      width: '27%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StyledModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Gemini1Panel, {\n    id: props.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 15\n    }\n  })))) : null, gemini2AtStation ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      width: '3%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    style: {\n      width: '27%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StyledModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Gemini2Panel, {\n    id: props.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 15\n    }\n  })))) : null));\n});","map":{"version":3,"sources":["/Users/raz/Desktop/rescue-orion/client/src/room/modal/SpaceStationModal.tsx"],"names":["React","styled","useSelector","useDispatch","BaseModalTextBackground","Modal","ModalBackground","DismissButton","IDs","pickUpSupplyResource","pickUpRescueResource","dropOffRescueResource","Triangle","StationName","div","TextInfo","ModalWrapper","Column","StyledModal","StyledButton","Header","Body","SupplyGroup","Resource","LeftPanelTriangle","Divider","StationPanel","props","gameState","state","station","spaceStations","id","gemini_1","spaceships","GEMINI_1","gemini_2","GEMINI_2","dispatch","showResources","location","supplyReceiverId","resourceReceiverId","isInTimePortal","message","title","paragraphs","map","paragraph","i","number","text","energyCells","lifeSupportPacks","top","transform","from","to","width","margin","rescueResources","resource","canPickUp","type","SpaceshipName","h1","RightPanelTriangle","ResourceRightAlign","Gemini1Panel","Gemini2Panel","spaceStationLocation","gemini1AtStation","gemini2AtStation","onClose"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector, useDispatch } from '../redux-hook-adapters';\nimport {\n  BaseModalTextBackground,\n  Modal,\n  ModalBackground,\n  DismissButton,\n} from './modal';\nimport { GameState } from '../../metadata/types';\nimport * as IDs from '../../metadata/agent-ids';\nimport {\n  pickUpSupplyResource,\n  pickUpRescueResource,\n  dropOffRescueResource\n} from '../actions';\nimport { Message } from '../../metadata/types';\nimport Triangle from './TriangleButton';\n\nconst StationName = styled.div`\n  font-family: 'Grandstander', cursive;\n  text-align: center;\n  font-size: 40px;\n  margin-bottom: 20px;\n  text-transform: uppercase;\n`;\n\nconst TextInfo = styled.div`\n  font-family: 'Roboto' sans-serif;\n  text-align: center;\n  font-weight: 500;\n  font-size: 18px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  position: relative;\n  text-align: left;\n`;\nconst ModalWrapper = styled(BaseModalTextBackground)`\n  width: 1200px;\n  padding: 0;\n  text-align: center;\n`;\nconst Column = styled.div`\n  display: inline-block;\n  overflow: auto;\n  vertical-align: top;\n  position: relative;\n`;\nconst StyledModal = styled(Modal)`\n  position: relative;\n  height: 520px;\n`;\nconst StyledButton = styled(DismissButton)`\n  position: absolute;\n  left: 25px;\n  bottom: 20px;\n`;\n\nconst Header = styled.div`\n  font-weight: bold;\n  font-size: 22px;\n  text-align: center;\n  color: #b62021;\n  font-family: 'Grandstander', cursive;\n  text-transform: uppercase;\n`;\n\nconst Body = styled.div`\n  font-family: 'Roboto' sans-serif;\n  font-size: 16px;\n  font-weight: 500;\n`;\n\nconst SupplyGroup = styled.div`\n  position: relative;\n`;\n\nconst Resource = styled.div`\n  font-family: 'Roboto' sans-serif;\n  text-align: center;\n  font-weight: 500;\n  font-size: 20px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  position: relative;\n`;\n\nconst LeftPanelTriangle = styled(Triangle)`\n  position: absolute;\n  right: 5px;\n  top: 0;\n`;\n\nconst Divider = styled.div`\n  border-bottom: 1px solid grey;\n  margin: 10px 0;\n`;\n\nfunction StationPanel(props: {\n  id: string,\n  message: Message,\n}) {\n  const gameState = useSelector((state: GameState) => state);\n  const station = gameState.spaceStations[props.id];\n  const gemini_1 = gameState.spaceships[IDs.GEMINI_1];\n  const gemini_2 = gameState.spaceships[IDs.GEMINI_2];\n  const dispatch = useDispatch();\n\n  const showResources = gemini_1.location === station.location || gemini_2.location === station.location;\n  let supplyReceiverId: string;\n  let resourceReceiverId: string;\n  if (gemini_1.location === station.location) {\n    supplyReceiverId = IDs.GEMINI_1;\n    if (!gemini_1.isInTimePortal) {\n      resourceReceiverId = IDs.GEMINI_1;\n    }\n  } else if (gemini_2.location === station.location) {\n    supplyReceiverId = IDs.GEMINI_2;\n    if (!gemini_2.isInTimePortal) {\n      resourceReceiverId = IDs.GEMINI_2;\n    }\n  }\n\n  return <>\n    <StationName>\n      {props.id}\n    </StationName>\n    <TextInfo>\n      <Header>\n        {props.message.title}\n      </Header>\n      <Body>\n        {\n          props.message.paragraphs.map((paragraph, i) => {\n            return <p key={i}>\n              {paragraph.number}\n              {paragraph.text}\n            </p>;\n          })\n        }\n      </Body>\n    </TextInfo>\n    {\n      showResources ?\n      <>\n        <Divider />\n        <SupplyGroup>\n          <Resource>\n            Energy Cells: {station.energyCells}\n          </Resource>\n          <Resource>\n            Life Support Packs: {station.lifeSupportPacks}\n          </Resource>\n          <LeftPanelTriangle\n            style={{\n              top: '50%',\n              transform: 'translate(0, -50%)',\n            }}\n            onClick={() => {\n              if (station.energyCells > 0) {\n                dispatch(pickUpSupplyResource({\n                  from: props.id,\n                  to: supplyReceiverId,\n                }));\n              }\n            }}\n            disabled={station.energyCells === 0}\n          />\n        </SupplyGroup>\n        <Divider\n          style={{\n            width: '70%',\n            margin: '10px auto',\n          }}\n        />\n        {\n          station.rescueResources.map((resource, i) => \n            <Resource key={i}>\n              {resource}\n              <LeftPanelTriangle\n                onClick={() => {\n                  if (resourceReceiverId && station.canPickUp[resource]) {\n                    dispatch(pickUpRescueResource({\n                      from: props.id,\n                      to: resourceReceiverId,\n                      type: resource,\n                    }));\n                  }\n                }}\n                disabled={!resourceReceiverId || !station.canPickUp[resource]}\n              />\n            </Resource>\n          )\n        }\n      </> : <></>\n    }\n  </>\n}\n\nconst SpaceshipName = styled.h1`\n  font-family: 'Grandstander', cursive;\n  text-align: center;\n  margin-bottom: 30px;\n`;\n\nconst RightPanelTriangle = styled(Triangle)`\n  position: absolute;\n  left: 5px;\n  top: 0;\n  transform: rotate(180deg);\n`;\n\nconst ResourceRightAlign = styled(Resource)`\n  text-align: right;\n  margin-top: 10px;\n`;\n\nfunction Gemini1Panel(props: {\n  id: string\n}) {\n  const gemini_1 = useSelector((state: GameState) => state.spaceships[IDs.GEMINI_1]);\n  const dispatch = useDispatch();\n\n  return <>\n    <SpaceshipName>Gemini 1</SpaceshipName>\n    <Resource>\n      Energy Cells: {gemini_1.energyCells}\n    </Resource>\n    <Resource>\n      Life Support Packs: {gemini_1.lifeSupportPacks}\n    </Resource>\n    <Divider />\n    {\n      gemini_1.rescueResources.map((resource, i) => \n      <ResourceRightAlign key={i}>\n          {resource}\n          <RightPanelTriangle\n            disabled={gemini_1.isInTimePortal}\n            onClick={() => {\n              if (!gemini_1.isInTimePortal) {\n                dispatch(dropOffRescueResource({\n                  from: IDs.GEMINI_1,\n                  to: props.id,\n                  type: resource,\n                }));\n              }\n            }}\n          />\n        </ResourceRightAlign>\n      )\n    }\n  </>\n}\n\nfunction Gemini2Panel(props: {\n  id: string\n}) {\n  const gemini_2 = useSelector((state: GameState) => state.spaceships[IDs.GEMINI_2]);\n  const dispatch = useDispatch();\n  return <>\n    <SpaceshipName>Gemini 2</SpaceshipName>\n    <Resource>\n      Energy Cells: {gemini_2.energyCells}\n    </Resource>\n    <Resource>\n      Life Support Packs: {gemini_2.lifeSupportPacks}\n    </Resource>\n    <Divider />\n    {\n      gemini_2.rescueResources.map((resource, i) => \n      <ResourceRightAlign key={i}>\n          {resource}\n          <RightPanelTriangle\n            disabled={gemini_2.isInTimePortal}\n            onClick={() => {\n              if (!gemini_2.isInTimePortal) {\n                dispatch(dropOffRescueResource({\n                  from: IDs.GEMINI_2,\n                  to: props.id,\n                  type: resource,\n                }));\n              }\n            }}\n          />\n        </ResourceRightAlign>\n      )\n    }\n  </>\n}\n\nexport default (props: {\n  onClose?: () => void,\n  id: string,\n  message: Message,\n}) => {\n\n  const gameState = useSelector((state: GameState) => state);\n  const spaceStationLocation = gameState.spaceStations[props.id].location;\n  const gemini1AtStation = gameState.spaceships[IDs.GEMINI_1].location === spaceStationLocation;\n  const gemini2AtStation = gameState.spaceships[IDs.GEMINI_2].location === spaceStationLocation;\n\n  return <ModalBackground>\n    <ModalWrapper>\n      <Column style={{ width: '40%' }}>\n        <StyledModal>\n          <StationPanel\n            id={props.id}\n            message={props.message}\n          />\n          <StyledButton onClose={props.onClose} />\n        </StyledModal>\n      </Column>\n    \n      {\n        gemini1AtStation ?\n        <>\n          <Column style={{ width: '3%' }} />\n          <Column style={{ width: '27%' }}>\n            <StyledModal>\n              <Gemini1Panel id={props.id}/>\n            </StyledModal>\n          </Column>\n        </>\n        :\n        null\n      }\n      {\n        gemini2AtStation ?\n        <>\n          <Column style={{ width: '3%' }} />\n          <Column style={{ width: '27%' }}>\n            <StyledModal>\n              <Gemini2Panel id={props.id}/>\n            </StyledModal>\n          </Column>\n        </>\n        :\n        null\n      }\n    </ModalWrapper>\n  </ModalBackground>;\n}"]},"metadata":{},"sourceType":"module"}